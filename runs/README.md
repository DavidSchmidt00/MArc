# Runs Folder - MArc System Execution Results

This folder contains the execution results from the MArc (Multi-Agent System for Software Architecture) system. Each run represents a complete execution of the multi-agent architecture design process for different projects and using different language models.

## Folder Structure

```
runs/
├── character_counter_with_template_check.py    # Utility script for character counting
├── clean_json.py                               # JSON cleaning utility
├── README.md                                   # This documentation file
├── o3/                                        # Results from OpenAI o3 model runs
│   ├── 1-1/                                   # Project 1, Run 1
│   │   ├── architecture/                      # Architecture artifacts
│   │   │   ├── arc42.adoc                     # Main arc42 documentation
│   │   │   ├── diagrams/                      # Generated diagrams
│   │   │   │   ├── *.puml                     # PlantUML source files
│   │   │   │   └── *.svg                      # Generated SVG diagrams
│   │   │   └── src/                           # arc42 template sections
│   │   │       ├── 01_introduction_and_goals.adoc
│   │   │       ├── 02_architecture_constraints.adoc
│   │   │       ├── ... (sections 03-10)
│   │   │       └── adrs/                      # Architecture Decision Records
│   │   ├── character_count.txt                # Character count for this run
│   │   ├── messages.json                      # Raw agent conversation log
│   │   └── messages-clean.json                # Cleaned agent conversation log
│   ├── 1-2/                                   # Project 1, Run 2
│   ├── 2-1/                                   # Project 2, Run 1
│   ├── 2-2/                                   # Project 2, Run 2
│   ├── 3-1/                                   # Project 3, Run 1
│   └── 3-2/                                   # Project 3, Run 2
└── o4-mini/                                   # Results from OpenAI o4-mini model runs
    ├── 1-1/                                   # Same structure as o3
    ├── 1-2/
    ├── 2-1/
    ├── 2-2/
    ├── 3-1/
    └── 3-2/
```

## Run Directory Contents

Each individual run directory (e.g., `o3/1-1/`, `o4-mini/2-2/`) contains the following:

### Architecture Folder
- **`arc42.adoc`**: The main architecture documentation file following the arc42 template structure
- **`diagrams/`**: Contains generated PlantUML diagrams and their SVG renditions
  - Component diagrams showing system structure
  - Context diagrams showing system boundaries
  - Sequence diagrams showing runtime interactions
- **`src/`**: Individual arc42 template sections as separate AsciiDoc files
  - Sections 01-10 covering all aspects of the arc42 template
  - `adrs/` folder containing Architecture Decision Records

### Execution Metadata
- **`character_count.txt`**: Total character count of generated architecture content (excluding template files)
- **`messages.json`**: Complete conversation log between all agents during the architecture design process
- **`messages-clean.json`**: Cleaned version of the conversation log with metadata removed for better readability

## Model Comparison

The runs are organized by language model to enable comparison of architecture quality and generation capabilities:

- **`o3/`**: Results using OpenAI's o3 model
- **`o4-mini/`**: Results using OpenAI's o4-mini model

Each model was tested on the same three projects with two independent runs each to assess consistency and quality.

## Project Numbering

The numbering scheme follows this pattern:
- **Project 1**: First test project (details in `workspace/projects/project-1.md`)
- **Project 2**: Second test project (details in `workspace/projects/project-2.md`)
- **Project 3**: Third test project (details in `workspace/projects/project-3.md`)
- **Run 1/2**: Independent executions of the same project to test consistency

## Utility Scripts

### character_counter_with_template_check.py

This script analyzes the generated architecture content to count characters while excluding template files that remain unchanged from the original arc42 template.

**Purpose:**
- Measures the amount of original content generated by the MArc system
- Excludes boilerplate template content to focus on actual AI-generated architecture documentation
- Provides quantitative metrics for comparing different model outputs

**Key Features:**
- Recursively scans `.adoc` and `.puml` files in run directories
- Compares files against template baseline to identify unchanged content
- Generates character count reports for each run
- Handles encoding issues gracefully

**Usage:**
```python
python character_counter_with_template_check.py
```

The script processes all run directories and creates/updates `character_count_corrected.txt` files with accurate character counts.

### clean_json.py

This script processes the raw agent conversation logs to create cleaner, more readable versions for analysis.

**Purpose:**
- Removes technical metadata from agent conversation logs
- Creates cleaner JSON files for easier manual inspection and analysis
- Reduces file size by removing redundant information

**Key Features:**
- Removes system-specific keys: `id`, `index`, `tool_call_id`, `response_metadata`, `usage_metadata`, `example`, `artifact`
- Cleans up empty arrays and objects (`invalid_tool_calls`, `additional_kwargs`, `tool_calls`, `args`)
- Preserves the essential conversation flow and agent interactions
- Maintains JSON structure integrity

**Usage:**
```python
python clean_json.py
```

Note: The script currently has a hardcoded file path that needs to be updated for different runs. It processes the `messages.json` file and overwrites it with the cleaned version, which is then typically saved as `messages-clean.json`.

## Usage Notes

- Each run represents a complete, autonomous execution of the MArc system
- The `architecture/` folders contain the final deliverables that would be provided to software development teams
- Character counts help quantify the thoroughness of each model's output
- Conversation logs provide insights into the multi-agent collaboration process