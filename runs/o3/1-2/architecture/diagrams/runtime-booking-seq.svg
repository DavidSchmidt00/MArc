<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="399px" preserveAspectRatio="none" style="width:1061px;height:399px;background:#FFFFFF;" version="1.1" viewBox="0 0 1061 399" width="1061px" zoomAndPan="magnify"><defs/><g><g><title>Node.js Backend</title><rect fill="#FFFFFF" height="87.3984" style="stroke:#181818;stroke-width:1;" width="10" x="376.2769" y="141.5625"/></g><g><title>Customer</title><rect fill="#000000" fill-opacity="0.00000" height="236.9297" width="8" x="38.002" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="42" x2="42" y1="81.2969" y2="318.2266"/></g><g><title>React SPA</title><rect fill="#000000" fill-opacity="0.00000" height="236.9297" width="8" x="220.3569" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="223.6255" x2="223.6255" y1="81.2969" y2="318.2266"/></g><g><title>Node.js Backend</title><rect fill="#000000" fill-opacity="0.00000" height="236.9297" width="8" x="377.2769" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="380.7852" x2="380.7852" y1="81.2969" y2="318.2266"/></g><g><title>DB</title><rect fill="#000000" fill-opacity="0.00000" height="236.9297" width="8" x="470.7686" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="474.7686" x2="474.7686" y1="81.2969" y2="318.2266"/></g><g><title>MQ</title><rect fill="#000000" fill-opacity="0.00000" height="236.9297" width="8" x="520.3179" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="523.7686" x2="523.7686" y1="81.2969" y2="318.2266"/></g><g><title>Worker</title><rect fill="#000000" fill-opacity="0.00000" height="236.9297" width="8" x="584.1875" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="587.8672" x2="587.8672" y1="81.2969" y2="318.2266"/></g><g><title>DB</title><rect fill="#000000" fill-opacity="0.00000" height="236.9297" width="8" x="643.7002" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="647.5078" x2="647.5078" y1="81.2969" y2="318.2266"/></g><g><title>MQ</title><rect fill="#000000" fill-opacity="0.00000" height="236.9297" width="8" x="696.0918" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="699.5425" x2="699.5425" y1="81.2969" y2="318.2266"/></g><g><title>Worker</title><rect fill="#000000" fill-opacity="0.00000" height="236.9297" width="8" x="820.2642" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="823.9438" x2="823.9438" y1="81.2969" y2="318.2266"/></g><g class="participant participant-head" data-participant="Customer"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68.0039" x="5" y="77.9951">Customer</text><ellipse cx="42.002" cy="13.5" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M42.002,21.5 L42.002,48.5 M29.002,29.5 L55.002,29.5 M42.002,48.5 L29.002,63.5 M42.002,48.5 L55.002,63.5" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="Customer"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68.0039" x="5" y="330.2217">Customer</text><ellipse cx="42.002" cy="342.0234" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M42.002,350.0234 L42.002,377.0234 M29.002,358.0234 L55.002,358.0234 M42.002,377.0234 L29.002,392.0234 M42.002,377.0234 L55.002,392.0234" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-participant="SPA"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="85.4629" x="181.6255" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="71.4629" x="188.6255" y="69.9951">React SPA</text></g><g class="participant participant-tail" data-participant="SPA"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="85.4629" x="181.6255" y="317.2266"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="71.4629" x="188.6255" y="337.2217">React SPA</text></g><g class="participant participant-head" data-participant="Backend"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="130.9834" x="315.7852" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116.9834" x="322.7852" y="69.9951">Node.js Backend</text></g><g class="participant participant-tail" data-participant="Backend"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="130.9834" x="315.7852" y="317.2266"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116.9834" x="322.7852" y="337.2217">Node.js Backend</text></g><g class="participant participant-head" data-participant="PostgreSQL"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="20.3848" x="461.5762" y="77.9951">DB</text><path d="M456.7686,29 C456.7686,19 474.7686,19 474.7686,19 C474.7686,19 492.7686,19 492.7686,29 L492.7686,55 C492.7686,65 474.7686,65 474.7686,65 C474.7686,65 456.7686,65 456.7686,55 L456.7686,29" fill="#E2E2F0" style="stroke:#181818;stroke-width:0.5;"/><path d="M456.7686,29 C456.7686,39 474.7686,39 474.7686,39 C474.7686,39 492.7686,39 492.7686,29" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="PostgreSQL"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="20.3848" x="461.5762" y="330.2217">DB</text><path d="M456.7686,343.5234 C456.7686,333.5234 474.7686,333.5234 474.7686,333.5234 C474.7686,333.5234 492.7686,333.5234 492.7686,343.5234 L492.7686,369.5234 C492.7686,379.5234 474.7686,379.5234 474.7686,379.5234 C474.7686,379.5234 456.7686,379.5234 456.7686,369.5234 L456.7686,343.5234" fill="#E2E2F0" style="stroke:#181818;stroke-width:0.5;"/><path d="M456.7686,343.5234 C456.7686,353.5234 474.7686,353.5234 474.7686,353.5234 C474.7686,353.5234 492.7686,353.5234 492.7686,343.5234" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-participant="RabbitMQ"><path d="M507.7686,55 L540.8672,55 C545.8672,55 545.8672,68.1484 545.8672,68.1484 C545.8672,68.1484 545.8672,81.2969 540.8672,81.2969 L507.7686,81.2969 C502.7686,81.2969 502.7686,68.1484 502.7686,68.1484 C502.7686,68.1484 502.7686,55 507.7686,55" fill="#E2E2F0" style="stroke:#181818;stroke-width:0.5;"/><path d="M540.8672,55 C535.8672,55 535.8672,68.1484 535.8672,68.1484 C535.8672,81.2969 540.8672,81.2969 540.8672,81.2969" fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="23.0986" x="507.7686" y="72.9951">MQ</text></g><g class="participant participant-tail" data-participant="RabbitMQ"><path d="M507.7686,317.2266 L540.8672,317.2266 C545.8672,317.2266 545.8672,330.375 545.8672,330.375 C545.8672,330.375 545.8672,343.5234 540.8672,343.5234 L507.7686,343.5234 C502.7686,343.5234 502.7686,330.375 502.7686,330.375 C502.7686,330.375 502.7686,317.2266 507.7686,317.2266" fill="#E2E2F0" style="stroke:#181818;stroke-width:0.5;"/><path d="M540.8672,317.2266 C535.8672,317.2266 535.8672,330.375 535.8672,330.375 C535.8672,343.5234 540.8672,343.5234 540.8672,343.5234" fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="23.0986" x="507.7686" y="335.2217">MQ</text></g><g class="participant participant-head" data-participant="NotificationWorker"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="64.6406" x="555.8672" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="50.6406" x="562.8672" y="69.9951">Worker</text></g><g class="participant participant-tail" data-participant="NotificationWorker"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="64.6406" x="555.8672" y="317.2266"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="50.6406" x="562.8672" y="337.2217">Worker</text></g><g class="participant participant-head" data-participant="DB"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="34.3848" x="630.5078" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="20.3848" x="637.5078" y="69.9951">DB</text></g><g class="participant participant-tail" data-participant="DB"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="34.3848" x="630.5078" y="317.2266"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="20.3848" x="637.5078" y="337.2217">DB</text></g><g class="participant participant-head" data-participant="MQ"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="37.0986" x="681.5425" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="23.0986" x="688.5425" y="69.9951">MQ</text></g><g class="participant participant-tail" data-participant="MQ"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="37.0986" x="681.5425" y="317.2266"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="23.0986" x="688.5425" y="337.2217">MQ</text></g><g class="participant participant-head" data-participant="Worker"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="64.6406" x="791.9438" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="50.6406" x="798.9438" y="69.9951">Worker</text></g><g class="participant participant-tail" data-participant="Worker"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="64.6406" x="791.9438" y="317.2266"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="50.6406" x="798.9438" y="337.2217">Worker</text></g><g><title>Node.js Backend</title><rect fill="#FFFFFF" height="87.3984" style="stroke:#181818;stroke-width:1;" width="10" x="376.2769" y="141.5625"/></g><g class="message" data-participant-1="Customer" data-participant-2="SPA"><polygon fill="#181818" points="212.3569,108.4297,222.3569,112.4297,212.3569,116.4297,216.3569,112.4297" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="42.002" x2="218.3569" y1="112.4297" y2="112.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="158.355" x="49.002" y="107.3638">Book Appointment Form</text></g><g class="message" data-participant-1="SPA" data-participant-2="Backend"><polygon fill="#181818" points="364.2769,137.5625,374.2769,141.5625,364.2769,145.5625,368.2769,141.5625" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="224.3569" x2="370.2769" y1="141.5625" y2="141.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.9199" x="231.3569" y="136.4966">POST /appointments</text></g><g class="message" data-participant-1="Backend" data-participant-2="DB"><polygon fill="#181818" points="635.7002,166.6953,645.7002,170.6953,635.7002,174.6953,639.7002,170.6953" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="386.2769" x2="641.7002" y1="170.6953" y2="170.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="225.9131" x="393.2769" y="165.6294">INSERT appointment + outbox (tx)</text></g><g class="message" data-participant-1="Backend" data-participant-2="SPA"><line style="stroke:#181818;stroke-width:1;" x1="225.3569" x2="235.3569" y1="199.8281" y2="195.8281"/><line style="stroke:#181818;stroke-width:1;" x1="225.3569" x2="235.3569" y1="199.8281" y2="203.8281"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="224.3569" x2="375.2769" y1="199.8281" y2="199.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="80.6787" x="241.3569" y="194.7622">201 Created</text></g><g class="message" data-participant-1="Backend" data-participant-2="MQ"><polygon fill="#181818" points="688.0918,224.9609,698.0918,228.9609,688.0918,232.9609,692.0918,228.9609" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="381.2769" x2="694.0918" y1="228.9609" y2="228.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="289.8149" x="388.2769" y="223.895">OutboxRelay publishes AppointmentCreated</text></g><g class="message" data-participant-1="Worker" data-participant-2="MQ"><polygon fill="#181818" points="711.0918,254.0938,701.0918,258.0938,711.0918,262.0938,707.0918,258.0938" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="705.0918" x2="823.2642" y1="258.0938" y2="258.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100.1724" x="717.0918" y="253.0278">consume event</text></g><g class="message" data-participant-1="Worker" data-participant-2="Worker"><line style="stroke:#181818;stroke-width:1;" x1="824.2642" x2="866.2642" y1="287.2266" y2="287.2266"/><line style="stroke:#181818;stroke-width:1;" x1="866.2642" x2="866.2642" y1="287.2266" y2="300.2266"/><line style="stroke:#181818;stroke-width:1;" x1="825.2642" x2="866.2642" y1="300.2266" y2="300.2266"/><polygon fill="#181818" points="835.2642,296.2266,825.2642,300.2266,835.2642,304.2266,831.2642,300.2266" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="223.0122" x="831.2642" y="282.1606">send email+sms (SendGrid / SMS)</text></g><!--SRC=[PP3BJiD034NtynLMLwsgKc2PHQMc1OH4-iXKOkqa1eOy76QSglmzapPHKx4R-zvh7m-cmXPMZHCkoQeQhPZKr5W9wDqIqC4e9apFrUX63Z7DgShEbWrdTFVj-jv8PIYOe2DOXwrXnqu-BUdzc_ffg268zcqxnYGn4krlvhwppScsyeR5V9WKnN1rwQeU56QBbYY0a3c7PLspgQGa7tzcMweMtJiwd01sMts0ELvjJlcRp165UfFgx_6vTHZ0wqO_nGSOP60At4Z29nZBQNBrpnOTo-Fz0wmi-Q7PKFN71h0z9sCgy1Vg9YcC-o8t1E-36VqZwtwacvHovPgIW8u-DT0khm1SkvPADCNKbGx6sjSlrcGm1ntfoHy0]--></g></svg>