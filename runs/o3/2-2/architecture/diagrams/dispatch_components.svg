<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="DESCRIPTION" height="311px" preserveAspectRatio="none" style="width:1305px;height:311px;background:#FFFFFF;" version="1.1" viewBox="0 0 1305 311" width="1305px" zoomAndPan="magnify"><defs/><g><!--cluster Dispatch / Logistics Service--><g class="cluster" data-entity="Dispatch . Logistics Service" data-source-line="2" data-uid="ent0002" id="cluster_Dispatch . Logistics Service"><path d="M8.5,6 L226.4316,6 A3.75,3.75 0 0 1 228.9316,8.5 L235.9316,28.2969 L879.5,28.2969 A2.5,2.5 0 0 1 882,30.7969 L882,204.09 A2.5,2.5 0 0 1 879.5,206.59 L8.5,206.59 A2.5,2.5 0 0 1 6,204.09 L6,8.5 A2.5,2.5 0 0 1 8.5,6" fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="6" x2="235.9316" y1="28.2969" y2="28.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="216.9316" x="10" y="20.9951">Dispatch / Logistics Service</text></g><!--entity API Adapter Layer--><g class="entity" data-entity="API Adapter Layer" data-source-line="3" data-uid="ent0003" id="entity_API Adapter Layer"><rect fill="#F1F1F1" height="36.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="145.8701" x="22.06" y="41"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="125.8701" x="32.06" y="63.9951">API Adapter Layer</text></g><!--entity Location Ingestor--><g class="entity" data-entity="Location Ingestor" data-source-line="4" data-uid="ent0004" id="entity_Location Ingestor"><rect fill="#F1F1F1" height="36.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="141.5156" x="384.24" y="41"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="121.5156" x="394.24" y="63.9951">Location Ingestor</text></g><!--entity Driver State Manager--><g class="entity" data-entity="Driver State Manager" data-source-line="5" data-uid="ent0005" id="entity_Driver State Manager"><rect fill="#F1F1F1" height="36.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="170.4043" x="21.8" y="154.3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="150.4043" x="31.8" y="177.2951">Driver State Manager</text></g><!--entity Matching Engine--><g class="entity" data-entity="Matching Engine" data-source-line="6" data-uid="ent0006" id="entity_Matching Engine"><rect fill="#F1F1F1" height="36.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="136.7988" x="560.6" y="41"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116.7988" x="570.6" y="63.9951">Matching Engine</text></g><!--entity Job Offer Manager--><g class="entity" data-entity="Job Offer Manager" data-source-line="7" data-uid="ent0007" id="entity_Job Offer Manager"><rect fill="#F1F1F1" height="36.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="147.0938" x="202.45" y="41"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="127.0938" x="212.45" y="63.9951">Job Offer Manager</text></g><!--entity Acceptance Processor--><g class="entity" data-entity="Acceptance Processor" data-source-line="8" data-uid="ent0008" id="entity_Acceptance Processor"><rect fill="#F1F1F1" height="36.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="174.1572" x="389.92" y="154.3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="154.1572" x="399.92" y="177.2951">Acceptance Processor</text></g><!--entity Route Optimiser--><g class="entity" data-entity="Route Optimiser" data-source-line="9" data-uid="ent0009" id="entity_Route Optimiser"><rect fill="#F1F1F1" height="36.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="134.1943" x="731.9" y="41"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114.1943" x="741.9" y="63.9951">Route Optimiser</text></g><!--entity Config Watcher--><g class="entity" data-entity="Config Watcher" data-source-line="10" data-uid="ent0010" id="entity_Config Watcher"><rect fill="#F1F1F1" height="36.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="128.2197" x="226.89" y="154.3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108.2197" x="236.89" y="177.2951">Config Watcher</text></g><!--entity Redis--><g class="entity" data-entity="Redis" data-source-line="12" data-uid="ent0011" id="entity_Redis"><rect fill="#98FB98" height="36.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="112.5518" x="1005.72" y="154.3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="92.5518" x="1015.72" y="177.2951">Redis Cluster</text></g><!--entity PG--><g class="entity" data-entity="PG" data-source-line="13" data-uid="ent0012" id="entity_PG"><rect fill="#98FB98" height="36.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="80.3408" x="162.83" y="269.59"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60.3408" x="172.83" y="292.5851">Postgres</text></g><!--entity Kafka--><g class="entity" data-entity="Kafka" data-source-line="14" data-uid="ent0013" id="entity_Kafka"><rect fill="#98FB98" height="36.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="59.375" x="696.31" y="269.59"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39.375" x="706.31" y="292.5851">Kafka</text></g><!--link Location Ingestor to Redis--><g class="link" data-entity-1="Location Ingestor" data-entity-2="Redis" data-source-line="16" data-uid="lnk14" id="link_Location Ingestor_Redis"><path d="M525.99,74.57 C531.73,75.56 537.46,76.48 543,77.3 C675.57,96.8 713.69,72.18 843,107.3 C860.46,112.04 862.95,118.23 880,124.3 C921.2,138.97 963.2914,149.8606 999.6214,158.1806" fill="none" id="Location Ingestor-to-Redis" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="1005.47,159.52,997.59,153.6118,1000.5962,158.4038,995.8042,161.41,1005.47,159.52" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122.8843" x="881" y="120.3669">updateGeo(lat,lng)</text></g><!--link Matching Engine to Redis--><g class="link" data-entity-1="Matching Engine" data-entity-2="Redis" data-source-line="17" data-uid="lnk15" id="link_Matching Engine_Redis"><path d="M697.56,74.58 C703.11,75.57 708.64,76.49 714,77.3 C779.81,87.22 953.74,75.12 1012,107.3 C1031.04,117.81 1042.3674,133.6333 1050.6874,148.7533" fill="none" id="Matching Engine-to-Redis" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="1053.58,154.01,1052.7456,144.1966,1051.1695,149.6294,1045.7367,148.0533,1053.58,154.01" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78.2222" x="1033" y="120.3669">geoRadius()</text></g><!--link Driver State Manager to PG--><g class="link" data-entity-1="Driver State Manager" data-entity-2="PG" data-source-line="18" data-uid="lnk16" id="link_Driver State Manager_PG"><path d="M113.49,191.01 C119.28,205.13 128.72,224.95 141,239.59 C150.47,250.89 158.2127,257.6577 169.6127,265.6777" fill="none" id="Driver State Manager-to-PG" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="174.52,269.13,169.4606,260.68,170.4306,266.2531,164.8575,267.223,174.52,269.13" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76.7622" x="142" y="235.6569">write status</text></g><!--link Acceptance Processor to PG--><g class="link" data-entity-1="Acceptance Processor" data-entity-2="PG" data-source-line="19" data-uid="lnk17" id="link_Acceptance Processor_PG"><path d="M439.77,191.03 C420.3,199.49 395.82,208.99 373,214.59 C340.02,222.69 328.88,210.89 297,222.59 C268.44,233.08 244.8064,250.2916 226.8564,265.4316" fill="none" id="Acceptance Processor-to-PG" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="222.27,269.3,231.7286,266.555,226.092,266.0763,226.5707,260.4397,222.27,269.3" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139.9595" x="298" y="235.6569">assignment + outbox</text></g><!--link API Adapter Layer to Driver State Manager--><g class="link" data-entity-1="API Adapter Layer" data-entity-2="Driver State Manager" data-source-line="20" data-uid="lnk18" id="link_API Adapter Layer_Driver State Manager"><path d="M96.88,77.54 C99.12,98.32 102.2078,126.9445 104.4578,147.8445" fill="none" id="API Adapter Layer-to-Driver State Manager" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="105.1,153.81,108.1137,144.4336,104.5648,148.8387,100.1596,145.2899,105.1,153.81" style="stroke:#181818;stroke-width:1;"/></g><!--link API Adapter Layer to Config Watcher--><g class="link" data-entity-1="API Adapter Layer" data-entity-2="Config Watcher" data-source-line="21" data-uid="lnk19" id="link_API Adapter Layer_Config Watcher"><path d="M126.06,77.78 C162.76,98.62 218.2321,130.1279 254.8721,150.9279" fill="none" id="API Adapter Layer-to-Config Watcher" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="260.09,153.89,254.238,145.9683,255.7418,151.4216,250.2885,152.9254,260.09,153.89" style="stroke:#181818;stroke-width:1;"/></g><!--link Job Offer Manager to Acceptance Processor--><g class="link" data-entity-1="Job Offer Manager" data-entity-2="Acceptance Processor" data-source-line="22" data-uid="lnk20" id="link_Job Offer Manager_Acceptance Processor"><path d="M307.85,77.78 C345.49,98.62 402.4808,130.1839 440.0508,150.9839" fill="none" id="Job Offer Manager-to-Acceptance Processor" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="445.3,153.89,439.3636,146.0313,440.9256,151.4682,435.4887,153.0303,445.3,153.89" style="stroke:#181818;stroke-width:1;"/></g><!--link Location Ingestor to Kafka--><g class="link" data-entity-1="Location Ingestor" data-entity-2="Kafka" data-source-line="24" data-uid="lnk21" id="link_Location Ingestor_Kafka"><path d="M526.21,74.72 C575.16,85.07 635.56,98.63 660,107.3 C704.78,123.17 730.86,113.99 756,154.3 C778.84,190.9 756.8052,237.7221 740.6152,264.3721" fill="none" id="Location Ingestor-to-Kafka" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="737.5,269.5,745.5914,263.885,740.096,265.2267,738.7542,259.7313,737.5,269.5" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151.8359" x="766" y="177.0069">produce driver-location</text></g><!--link Matching Engine to Kafka--><g class="link" data-entity-1="Matching Engine" data-entity-2="Kafka" data-source-line="25" data-uid="lnk22" id="link_Matching Engine_Kafka"><path d="M697.53,74.74 C703.09,75.69 708.63,76.56 714,77.3 C758.81,83.45 1084.22,79.63 1120,107.3 C1137.46,120.79 1132.4,132.53 1136,154.3 C1140.38,180.74 1153.23,194.07 1136,214.59 C1087.15,272.79 847.9881,283.9088 761.9181,286.0788" fill="none" id="Matching Engine-to-Kafka" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#181818" points="755.92,286.23,765.018,290.0019,760.9184,286.104,764.8163,282.0044,755.92,286.23" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152.5342" x="1145" y="177.0069">consume order-created</text></g><!--link Job Offer Manager to Kafka--><g class="link" data-entity-1="Job Offer Manager" data-entity-2="Kafka" data-source-line="26" data-uid="lnk23" id="link_Job Offer Manager_Kafka"><path d="M349.6,77.78 C427.24,97.25 543.56,129.17 582,154.3 C611.62,173.65 608.4,190.16 634,214.59 C655.29,234.91 677.1264,251.8326 696.2664,265.7426" fill="none" id="Job Offer Manager-to-Kafka" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="701.12,269.27,696.1911,260.7432,697.0753,266.3305,691.488,267.2147,701.12,269.27" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="112.2773" x="635" y="177.0069">produce job-offer</text></g><!--link Acceptance Processor to Kafka--><g class="link" data-entity-1="Acceptance Processor" data-entity-2="Kafka" data-source-line="27" data-uid="lnk24" id="link_Acceptance Processor_Kafka"><path d="M461.59,190.83 C450.76,205.22 440.13,225.51 452,239.59 C482.95,276.32 625.3523,284.2737 689.9023,286.0637" fill="none" id="Acceptance Processor-to-Kafka" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="695.9,286.23,687.0143,281.9821,690.9019,286.0914,686.7926,289.979,695.9,286.23" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154.7686" x="453" y="235.6569">produce order-assigned</text></g><!--SRC=[VL7BJWCn3BplLrXm0K7BdGDI1GWLYgZQ0uUg1pTnG-Xk7CLP7aByEzxTIa3PShF6C_PuB1iV8YQim70LEL38y_nU4YGo6OChgOXeDkW83gwyHCpc2SvWmivBzaPWJkd56pg0Zm9WCPgEOMGnPaemmNTAomQTiC7iES0uE9BC7NgL_8lIvXapmJq6tT4rxfibFZYu3iu7Qh5RNi73UgtydyoHCHJLfY6O9ZOaifqzurg7FiJiAozRyYM7jNVms4nleCzYCIFh1IxBMjJm4b2WGmuZbkGIKIWMKvQifRJjwSsltXskDxZy2HKzny9WSB4TV0vrj7hl3V5HYVcq3Ewu-7FmBu4Zdg7rjHmfipUpbgxEpk4rUSL5kxKK_Ubyar74kr3fn-44DAyLlnKz3sm5UvwrbxwRTS__EcB_1_Ucs0QktcDYMwl6jhO6vPRT4-Lm-Aqo7AIk23XP5Pb4UepTwsrtrpEl1jpG_ajsLzIjwg8c-mK0]--></g></svg>