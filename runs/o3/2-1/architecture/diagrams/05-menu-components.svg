<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="DESCRIPTION" height="602px" preserveAspectRatio="none" style="width:401px;height:602px;background:#FFFFFF;" version="1.1" viewBox="0 0 401 602" width="401px" zoomAndPan="magnify"><defs/><g><!--cluster Menu Service--><g class="cluster" data-entity="Menu Service" data-source-line="3" data-uid="ent0002" id="cluster_Menu Service"><path d="M17.9052,6 L125.3408,6 A3.75,3.75 0 0 1 127.8408,8.5 L134.8408,28.2969 L391.9052,28.2969 A2.5,2.5 0 0 1 394.4052,30.7969 L394.4052,592.58 A2.5,2.5 0 0 1 391.9052,595.08 L17.9052,595.08 A2.5,2.5 0 0 1 15.4052,592.58 L15.4052,8.5 A2.5,2.5 0 0 1 17.9052,6" fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="15.4052" x2="134.8408" y1="28.2969" y2="28.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="106.4355" x="19.4052" y="20.9951">Menu Service</text></g><!--entity cmd--><g class="entity" data-entity="cmd" data-source-line="4" data-uid="ent0003" id="entity_cmd"><rect fill="#F1F1F1" height="46.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="141.7871" x="131.5152" y="41"/><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="253.3024" y="46"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="251.3024" y="48"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="251.3024" y="52"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101.7871" x="146.5152" y="73.9951">Menu Cmd API</text></g><!--entity cp--><g class="entity" data-entity="cp" data-source-line="5" data-uid="ent0004" id="entity_cp"><rect fill="#F1F1F1" height="46.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="184.3887" x="110.2152" y="148.3"/><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="274.6039" y="153.3"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="272.6039" y="155.3"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="272.6039" y="159.3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="144.3887" x="125.2152" y="181.2951">Command Processor</text></g><!--entity outbox--><g class="entity" data-entity="outbox" data-source-line="6" data-uid="ent0005" id="entity_outbox"><rect fill="#F1F1F1" height="46.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="160.0869" x="31.3652" y="263.24"/><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="171.4522" y="268.24"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="169.4522" y="270.24"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="169.4522" y="274.24"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="120.0869" x="46.3652" y="296.2351">Outbox Publisher</text></g><!--entity snapshot--><g class="entity" data-entity="snapshot" data-source-line="7" data-uid="ent0006" id="entity_snapshot"><rect fill="#F1F1F1" height="46.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="159.4102" x="31.6952" y="394.19"/><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="171.1054" y="399.19"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="169.1054" y="401.19"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="169.1054" y="405.19"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119.4102" x="46.6952" y="427.1851">Snapshot Builder</text></g><!--entity query--><g class="entity" data-entity="query" data-source-line="8" data-uid="ent0007" id="entity_query"><rect fill="#F1F1F1" height="46.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="152.0342" x="226.3852" y="394.19"/><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="358.4194" y="399.19"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="356.4194" y="401.19"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="356.4194" y="405.19"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112.0342" x="241.3852" y="427.1851">Menu Query API</text></g><!--entity write_db--><g class="entity" data-entity="write_db" data-source-line="9" data-uid="ent0008" id="entity_write_db"><path d="M226.5652,265.6 C226.5652,255.6 282.4036,255.6 282.4036,255.6 C282.4036,255.6 338.242,255.6 338.242,265.6 L338.242,307.1938 C338.242,317.1938 282.4036,317.1938 282.4036,317.1938 C282.4036,317.1938 226.5652,317.1938 226.5652,307.1938 L226.5652,265.6" fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"/><path d="M226.5652,265.6 C226.5652,275.6 282.4036,275.6 282.4036,275.6 C282.4036,275.6 338.242,275.6 338.242,265.6" fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79.3516" x="236.5652" y="292.5951">Write Store</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91.6768" x="236.5652" y="308.892">(PostgreSQL)</text></g><!--entity redis--><g class="entity" data-entity="redis" data-source-line="10" data-uid="ent0009" id="entity_redis"><path d="M47.3452,527.49 C47.3452,517.49 114.4014,517.49 114.4014,517.49 C114.4014,517.49 181.4575,517.49 181.4575,527.49 L181.4575,569.0838 C181.4575,579.0838 114.4014,579.0838 114.4014,579.0838 C114.4014,579.0838 47.3452,579.0838 47.3452,569.0838 L47.3452,527.49" fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"/><path d="M47.3452,527.49 C47.3452,537.49 114.4014,537.49 114.4014,537.49 C114.4014,537.49 181.4575,537.49 181.4575,527.49" fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114.1123" x="57.3452" y="554.4851">Redis Catalogue</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43.5381" x="57.3452" y="570.782">Cache</text></g><!--entity s3--><g class="entity" data-entity="s3" data-source-line="11" data-uid="ent0010" id="entity_s3"><rect fill="#F1F1F1" height="36.2969" rx="35" ry="35" style="stroke:#181818;stroke-width:0.5;" width="149.4521" x="223.6752" y="530.13"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129.4521" x="233.6752" y="553.1251">S3 Snapshot Store</text></g><!--link cmd to cp--><g class="link" data-entity-1="cmd" data-entity-2="cp" data-source-line="14" data-uid="lnk11" id="link_cmd_cp"><path d="M202.4052,87.74 C202.4052,105.51 202.4052,124.14 202.4052,141.9" fill="none" id="cmd-to-cp" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="202.4052,147.9,206.4052,138.9,202.4052,142.9,198.4052,138.9,202.4052,147.9" style="stroke:#181818;stroke-width:1;"/></g><!--link cp to write_db--><g class="link" data-entity-1="cp" data-entity-2="write_db" data-source-line="15" data-uid="lnk12" id="link_cp_write_db"><path d="M218.4052,195.03 C230.6252,212.28 244.1179,231.3333 257.5079,250.2433" fill="none" id="cp-to-write_db" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="260.9752,255.14,259.0387,245.4834,258.0858,251.0594,252.5098,250.1065,260.9752,255.14" style="stroke:#181818;stroke-width:1;"/></g><!--link cp to outbox--><g class="link" data-entity-1="cp" data-entity-2="outbox" data-source-line="16" data-uid="lnk13" id="link_cp_outbox"><path d="M184.2052,195.03 C168.3352,214.73 149.2005,238.4885 133.3305,258.1785" fill="none" id="cp-to-outbox" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="129.5652,262.85,138.3274,258.3529,132.7029,258.9571,132.0987,253.3326,129.5652,262.85" style="stroke:#181818;stroke-width:1;"/></g><!--link snapshot to redis--><g class="link" data-entity-1="snapshot" data-entity-2="redis" data-source-line="17" data-uid="lnk14" id="link_snapshot_redis"><path d="M111.9252,440.8 C112.4252,462.01 113.0267,487.9716 113.5667,511.3516" fill="none" id="snapshot-to-redis" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="113.7052,517.35,117.4964,508.26,113.5898,512.3513,109.4985,508.4448,113.7052,517.35" style="stroke:#181818;stroke-width:1;"/></g><!--link snapshot to s3--><g class="link" data-entity-1="snapshot" data-entity-2="s3" data-source-line="18" data-uid="lnk15" id="link_snapshot_s3"><path d="M143.9752,440.8 C180.7052,466.12 234.7158,503.3638 268.1558,526.4238" fill="none" id="snapshot-to-s3" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="273.0952,529.83,267.9569,521.4278,268.9791,526.9915,263.4153,528.0137,273.0952,529.83" style="stroke:#181818;stroke-width:1;"/></g><!--link outbox to snapshot--><g class="link" data-entity-1="outbox" data-entity-2="snapshot" data-source-line="19" data-uid="lnk16" id="link_outbox_snapshot"><path d="M111.4052,309.85 C111.4052,333.38 111.4052,364.11 111.4052,387.7" fill="none" id="outbox-to-snapshot" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="111.4052,393.7,115.4052,384.7,111.4052,388.7,107.4052,384.7,111.4052,393.7" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="36.5625" x="112.4052" y="360.2569">Kafka</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94.4087" x="6" y="383.1931">menu-updates</text></g><!--link query to redis--><g class="link" data-entity-1="query" data-entity-2="redis" data-source-line="20" data-uid="lnk17" id="link_query_redis"><path d="M269.6552,440.8 C238.8352,461.94 197.3931,490.366 163.3531,513.716" fill="none" id="query-to-redis" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="158.4052,517.11,168.0896,515.3176,162.5284,514.2817,163.5643,508.7205,158.4052,517.11" style="stroke:#181818;stroke-width:1;"/></g><!--link query to s3--><g class="link" data-entity-1="query" data-entity-2="s3" data-source-line="21" data-uid="lnk18" id="link_query_s3"><path d="M301.7052,440.8 C300.9252,466.2 299.8401,501.0028 299.1301,524.0328" fill="none" id="query-to-s3" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="298.9452,530.03,303.2207,521.1575,299.0993,525.0324,295.2245,520.911,298.9452,530.03" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="50.6606" x="301.4052" y="483.5569">fallback</text></g><!--SRC=[LL4zJyCm4DtpAuvCCAG1idL0WamLXNv4Y04GSk9B4pMnZSzkGOZ_ZksqWMvv7tVFxtB6iMu5mYnVF3wjvz0OesYQffhj9vlMDBQqXBgImg0maqhsgR6ASPsbgcF2sBvBMgScjNCaf7HhaDBTzUHgSXb5YbLRja687r1OA53lsWfZ-8u0NWALznnkbxCtO0HLppsVoxvdWiDIomg9f1v4vRM5DQNyXAKjkvOQ72GPI2yNWYbgf84xstRy8DE173DN5lNNcFhXaTCuCwnavDxwx3j0OQJ6Lt6-b6Gs6elL_2Bs_hrNttbvCh96tXBa3dToOzrOpge6WrzxoPd9xGkdA38Otnb2Wesow2UAt0aWIMvysqg5hp7kW0zbZwK2DqISK6xTu1pGKPh2FQkt3EBU7IAnoZL0YgDmWt-h_Z1bRgPcNLUwF_aB]--></g></svg>