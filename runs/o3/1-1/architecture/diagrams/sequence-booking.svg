<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="473px" preserveAspectRatio="none" style="width:870px;height:473px;background:#FFFFFF;" version="1.1" viewBox="0 0 870 473" width="870px" zoomAndPan="magnify"><defs/><g><g><title>Booking Service</title><rect fill="#FFFFFF" height="145.6641" style="stroke:#181818;stroke-width:1;" width="10" x="562.6753" y="170.6953"/></g><g><title>Customer</title><rect fill="#000000" fill-opacity="0.00000" height="311.3281" width="8" x="38.002" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="42" x2="42" y1="81.2969" y2="392.625"/></g><g><title>SPA</title><rect fill="#000000" fill-opacity="0.00000" height="311.3281" width="8" x="213.6094" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="217.1563" x2="217.1563" y1="81.2969" y2="392.625"/></g><g><title>API Gateway</title><rect fill="#000000" fill-opacity="0.00000" height="311.3281" width="8" x="431.9302" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="435.7085" x2="435.7085" y1="81.2969" y2="392.625"/></g><g><title>Booking Service</title><rect fill="#000000" fill-opacity="0.00000" height="311.3281" width="8" x="563.6753" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="567.3335" x2="567.3335" y1="81.2969" y2="392.625"/></g><g><title>PostgreSQL</title><rect fill="#000000" fill-opacity="0.00000" height="311.3281" width="8" x="760.1709" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="763.7944" x2="763.7944" y1="81.2969" y2="392.625"/></g><g><title>SQS</title><rect fill="#000000" fill-opacity="0.00000" height="311.3281" width="8" x="838.9438" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="842.5474" x2="842.5474" y1="81.2969" y2="392.625"/></g><g class="participant participant-head" data-participant="Customer"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68.0039" x="5" y="77.9951">Customer</text><ellipse cx="42.002" cy="13.5" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M42.002,21.5 L42.002,48.5 M29.002,29.5 L55.002,29.5 M42.002,48.5 L29.002,63.5 M42.002,48.5 L55.002,63.5" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="Customer"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68.0039" x="5" y="404.6201">Customer</text><ellipse cx="42.002" cy="416.4219" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M42.002,424.4219 L42.002,451.4219 M29.002,432.4219 L55.002,432.4219 M42.002,451.4219 L29.002,466.4219 M42.002,451.4219 L55.002,466.4219" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-participant="SPA"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="40.9063" x="197.1563" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="26.9063" x="204.1563" y="69.9951">SPA</text></g><g class="participant participant-tail" data-participant="SPA"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="40.9063" x="197.1563" y="391.625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="26.9063" x="204.1563" y="411.6201">SPA</text></g><g class="participant participant-head" data-participant="API"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="102.4434" x="384.7085" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88.4434" x="391.7085" y="69.9951">API Gateway</text></g><g class="participant participant-tail" data-participant="API"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="102.4434" x="384.7085" y="391.625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88.4434" x="391.7085" y="411.6201">API Gateway</text></g><g class="participant participant-head" data-participant="Service"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="126.6836" x="504.3335" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112.6836" x="511.3335" y="69.9951">Booking Service</text></g><g class="participant participant-tail" data-participant="Service"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="126.6836" x="504.3335" y="391.625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112.6836" x="511.3335" y="411.6201">Booking Service</text></g><g class="participant participant-head" data-participant="DB"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="94.7529" x="716.7944" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80.7529" x="723.7944" y="69.9951">PostgreSQL</text></g><g class="participant participant-tail" data-participant="DB"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="94.7529" x="716.7944" y="391.625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80.7529" x="723.7944" y="411.6201">PostgreSQL</text></g><g class="participant participant-head" data-participant="Queue"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="42.793" x="821.5474" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="28.793" x="828.5474" y="69.9951">SQS</text></g><g class="participant participant-tail" data-participant="Queue"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="42.793" x="821.5474" y="391.625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="28.793" x="828.5474" y="411.6201">SQS</text></g><g><title>Booking Service</title><rect fill="#FFFFFF" height="145.6641" style="stroke:#181818;stroke-width:1;" width="10" x="562.6753" y="170.6953"/></g><g class="message" data-participant-1="Customer" data-participant-2="SPA"><polygon fill="#181818" points="205.6094,108.4297,215.6094,112.4297,205.6094,116.4297,209.6094,112.4297" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="42.002" x2="211.6094" y1="112.4297" y2="112.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151.6074" x="49.002" y="107.3638">Select slot &amp; click Book</text></g><g class="message" data-participant-1="SPA" data-participant-2="API"><polygon fill="#181818" points="423.9302,137.5625,433.9302,141.5625,423.9302,145.5625,427.9302,141.5625" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="217.6094" x2="429.9302" y1="141.5625" y2="141.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.9199" x="224.6094" y="136.4966">POST /appointments</text></g><g class="message" data-participant-1="API" data-participant-2="Service"><polygon fill="#181818" points="550.6753,166.6953,560.6753,170.6953,550.6753,174.6953,554.6753,170.6953" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="435.9302" x2="556.6753" y1="170.6953" y2="170.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="107.7451" x="442.9302" y="165.6294">ReserveSlotCmd</text></g><g class="message" data-participant-1="Service" data-participant-2="DB"><polygon fill="#181818" points="752.1709,195.8281,762.1709,199.8281,752.1709,203.8281,756.1709,199.8281" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="572.6753" x2="758.1709" y1="199.8281" y2="199.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="167.4956" x="579.6753" y="194.7622">BEGIN TX (SERIALIZABLE)</text></g><g class="message" data-participant-1="Service" data-participant-2="DB"><polygon fill="#181818" points="752.1709,224.9609,762.1709,228.9609,752.1709,232.9609,756.1709,228.9609" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="572.6753" x2="758.1709" y1="228.9609" y2="228.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="134.5005" x="579.6753" y="223.895">INSERT appointment</text></g><g class="message" data-participant-1="DB" data-participant-2="Service"><polygon fill="#181818" points="583.6753,254.0938,573.6753,258.0938,583.6753,262.0938,579.6753,258.0938" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="577.6753" x2="763.1709" y1="258.0938" y2="258.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155.7397" x="589.6753" y="253.0278">OK / ConstraintViolation</text></g><g class="message" data-participant-1="Service" data-participant-2="DB"><polygon fill="#181818" points="752.1709,283.2266,762.1709,287.2266,752.1709,291.2266,756.1709,287.2266" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="572.6753" x2="758.1709" y1="287.2266" y2="287.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53.5171" x="579.6753" y="282.1606">COMMIT</text></g><g class="message" data-participant-1="Service" data-participant-2="Queue"><polygon fill="#181818" points="830.9438,312.3594,840.9438,316.3594,830.9438,320.3594,834.9438,316.3594" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="567.6753" x2="836.9438" y1="316.3594" y2="316.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="170.8726" x="574.6753" y="311.2935">Publish BookingConfirmed</text></g><g class="message" data-participant-1="API" data-participant-2="SPA"><polygon fill="#181818" points="228.6094,341.4922,218.6094,345.4922,228.6094,349.4922,224.6094,345.4922" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="222.6094" x2="434.9302" y1="345.4922" y2="345.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="194.3208" x="234.6094" y="340.4263">201 Created (appointment id)</text></g><g class="message" data-participant-1="SPA" data-participant-2="Customer"><polygon fill="#181818" points="53.002,370.625,43.002,374.625,53.002,378.625,49.002,374.625" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="47.002" x2="216.6094" y1="374.625" y2="374.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121.6147" x="59.002" y="369.5591">Show confirmation</text></g><!--SRC=[PL1DRy8m3BtdLrWxJ710R3lsCAaj25NZev1gcdRBKWyYsgPAND3-_TmMfi9ETkoNv_UUqcGTn8qdMw8JjN9ajAbLHV0Wq_01b0UkjuimJM2X2C_gfmFm-nOGMNiqrHuakfFHsBFq_IqmjPxs3kLssM5cqPs2hUpcsmOR5E8g4oQlhQY0EGlK1Bwm18-W2wEFqDuMl6r1B2o0T2CpcAgwjgQY4YloeZNGSlII0jYXvnObyyHbBfGcSs9_VveljVqpYmA8veja3Ta7ZEHybuJBv3ECblFnFInPypg3mMKnYs0oFBnvWod4jlBa56FUZIqK6LlTKyMRrIh9XjCk4ZRNV1N67-2IE5Dz6rTYBdByvw9pVOtkvUaPOeUyps4qa0Wc7_VnCV8QE2Tzi6VGFNkdy1S0]--></g></svg>