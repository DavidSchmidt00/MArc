<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="544px" preserveAspectRatio="none" style="width:1521px;height:544px;background:#FFFFFF;" version="1.1" viewBox="0 0 1521 544" width="1521px" zoomAndPan="magnify"><defs/><g><g><title>Agent</title><rect fill="#000000" fill-opacity="0.00000" height="382.5938" width="8" x="24.7197" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="28" x2="28" y1="81.2969" y2="463.8906"/></g><g><title>API Gateway</title><rect fill="#000000" fill-opacity="0.00000" height="382.5938" width="8" x="248.0107" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="251.7891" x2="251.7891" y1="81.2969" y2="463.8906"/></g><g><title>Customer Service</title><rect fill="#000000" fill-opacity="0.00000" height="382.5938" width="8" x="427.4014" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="431.3037" x2="431.3037" y1="81.2969" y2="463.8906"/></g><g><title>Kafka</title><rect fill="#000000" fill-opacity="0.00000" height="382.5938" width="8" x="684.354" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="687.6665" x2="687.6665" y1="81.2969" y2="463.8906"/></g><g><title>ESB Connector</title><rect fill="#000000" fill-opacity="0.00000" height="382.5938" width="8" x="955.1445" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="958.147" x2="958.147" y1="81.2969" y2="463.8906"/></g><g><title>ACL Adapter</title><rect fill="#000000" fill-opacity="0.00000" height="382.5938" width="8" x="1206.873" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1210.1777" x2="1210.1777" y1="81.2969" y2="463.8906"/></g><g><title>Mainframe Policy System</title><rect fill="#000000" fill-opacity="0.00000" height="382.5938" width="8" x="1415.7676" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1419.3618" x2="1419.3618" y1="81.2969" y2="463.8906"/></g><g class="participant participant-head" data-participant="Agent"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="41.4395" x="5" y="77.9951">Agent</text><ellipse cx="28.7197" cy="13.5" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M28.7197,21.5 L28.7197,48.5 M15.7197,29.5 L41.7197,29.5 M28.7197,48.5 L15.7197,63.5 M28.7197,48.5 L41.7197,63.5" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="Agent"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="41.4395" x="5" y="475.8857">Agent</text><ellipse cx="28.7197" cy="487.6875" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M28.7197,495.6875 L28.7197,522.6875 M15.7197,503.6875 L41.7197,503.6875 M28.7197,522.6875 L15.7197,537.6875 M28.7197,522.6875 L41.7197,537.6875" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-participant="GW"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="102.4434" x="200.7891" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88.4434" x="207.7891" y="69.9951">API Gateway</text></g><g class="participant participant-tail" data-participant="GW"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="102.4434" x="200.7891" y="462.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88.4434" x="207.7891" y="482.8857">API Gateway</text></g><g class="participant participant-head" data-participant="CS"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="138.1953" x="362.3037" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="124.1953" x="369.3037" y="69.9951">Customer Service</text></g><g class="participant participant-tail" data-participant="CS"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="138.1953" x="362.3037" y="462.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="124.1953" x="369.3037" y="482.8857">Customer Service</text></g><g class="participant participant-head" data-participant="Kafka"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="53.375" x="661.6665" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39.375" x="668.6665" y="69.9951">Kafka</text></g><g class="participant participant-tail" data-participant="Kafka"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="53.375" x="661.6665" y="462.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39.375" x="668.6665" y="482.8857">Kafka</text></g><g class="participant participant-head" data-participant="ESB"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="117.9951" x="900.147" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103.9951" x="907.147" y="69.9951">ESB Connector</text></g><g class="participant participant-tail" data-participant="ESB"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="117.9951" x="900.147" y="462.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103.9951" x="907.147" y="482.8857">ESB Connector</text></g><g class="participant participant-head" data-participant="ACL"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="101.3906" x="1160.1777" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87.3906" x="1167.1777" y="69.9951">ACL Adapter</text></g><g class="participant participant-tail" data-participant="ACL"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="101.3906" x="1160.1777" y="462.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87.3906" x="1167.1777" y="482.8857">ACL Adapter</text></g><g class="participant participant-head" data-participant="Mainframe"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="190.8115" x="1324.3618" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="176.8115" x="1331.3618" y="69.9951">Mainframe Policy System</text></g><g class="participant participant-tail" data-participant="Mainframe"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="190.8115" x="1324.3618" y="462.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="176.8115" x="1331.3618" y="482.8857">Mainframe Policy System</text></g><g class="message" data-participant-1="Agent" data-participant-2="GW"><polygon fill="#181818" points="240.0107,108.4297,250.0107,112.4297,240.0107,116.4297,244.0107,112.4297" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="28.7197" x2="246.0107" y1="112.4297" y2="112.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="199.291" x="35.7197" y="107.3638">POST /customers/{id}/address</text></g><g class="message" data-participant-1="GW" data-participant-2="CS"><polygon fill="#181818" points="419.4014,137.5625,429.4014,141.5625,419.4014,145.5625,423.4014,141.5625" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="252.0107" x2="425.4014" y1="141.5625" y2="141.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155.3906" x="259.0107" y="136.4966">invoke updateAddress()</text></g><g class="message" data-participant-1="CS" data-participant-2="CS"><line style="stroke:#181818;stroke-width:1;" x1="431.4014" x2="473.4014" y1="170.6953" y2="170.6953"/><line style="stroke:#181818;stroke-width:1;" x1="473.4014" x2="473.4014" y1="170.6953" y2="183.6953"/><line style="stroke:#181818;stroke-width:1;" x1="432.4014" x2="473.4014" y1="183.6953" y2="183.6953"/><polygon fill="#181818" points="442.4014,179.6953,432.4014,183.6953,442.4014,187.6953,438.4014,183.6953" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="210.7295" x="438.4014" y="165.6294">persist new address in database</text></g><g class="message" data-participant-1="CS" data-participant-2="Kafka"><polygon fill="#181818" points="676.354,208.8281,686.354,212.8281,676.354,216.8281,680.354,212.8281" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="431.4014" x2="682.354" y1="212.8281" y2="212.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="210.7485" x="438.4014" y="207.7622">publish CustomerUpdated event</text></g><g class="message" data-participant-1="Kafka" data-participant-2="ESB"><polygon fill="#181818" points="947.1445,237.9609,957.1445,241.9609,947.1445,245.9609,951.1445,241.9609" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="688.354" x2="953.1445" y1="241.9609" y2="241.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="184.063" x="695.354" y="236.895">subscribe and receive event</text></g><g class="message" data-participant-1="ESB" data-participant-2="ACL"><polygon fill="#181818" points="1198.873,267.0938,1208.873,271.0938,1198.873,275.0938,1202.873,271.0938" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="959.1445" x2="1204.873" y1="271.0938" y2="271.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="227.7285" x="966.1445" y="266.0278">transform CustomerUpdated event</text></g><g class="message" data-participant-1="ACL" data-participant-2="Mainframe"><polygon fill="#181818" points="1407.7676,296.2266,1417.7676,300.2266,1407.7676,304.2266,1411.7676,300.2266" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1210.873" x2="1413.7676" y1="300.2266" y2="300.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="184.8945" x="1217.873" y="295.1606">updateAddress via MQ/REST</text></g><g class="message" data-participant-1="ACL" data-participant-2="ESB"><polygon fill="#181818" points="970.1445,325.3594,960.1445,329.3594,970.1445,333.3594,966.1445,329.3594" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="964.1445" x2="1209.873" y1="329.3594" y2="329.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="84.3413" x="976.1445" y="324.2935">return status</text></g><g class="message" data-participant-1="ESB" data-participant-2="Kafka"><polygon fill="#181818" points="699.354,354.4922,689.354,358.4922,699.354,362.4922,695.354,358.4922" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="693.354" x2="958.1445" y1="358.4922" y2="358.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="246.7905" x="705.354" y="353.4263">publish AddressSyncCompleted event</text></g><g class="message" data-participant-1="Kafka" data-participant-2="CS"><polygon fill="#181818" points="442.4014,383.625,432.4014,387.625,442.4014,391.625,438.4014,387.625" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="436.4014" x2="687.354" y1="387.625" y2="387.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="232.9526" x="448.4014" y="382.5591">optionally handle sync confirmation</text></g><g class="message" data-participant-1="CS" data-participant-2="GW"><polygon fill="#181818" points="263.0107,412.7578,253.0107,416.7578,263.0107,420.7578,259.0107,416.7578" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="257.0107" x2="430.4014" y1="416.7578" y2="416.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92.0981" x="269.0107" y="411.6919">return 200 OK</text></g><g class="message" data-participant-1="GW" data-participant-2="Agent"><polygon fill="#181818" points="39.7197,441.8906,29.7197,445.8906,39.7197,449.8906,35.7197,445.8906" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="33.7197" x2="251.0107" y1="445.8906" y2="445.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="62.6895" x="45.7197" y="440.8247">HTTP/200</text></g><!--SRC=[TP5VIyCm5CNV-oakUzA7qU7Z4A4McJB7ffduV9lUkh0sAKdQKSJlxctQAHtwbkJyxfzpWj8R2ya7QH_LQBsIgaRjOPRidc25daxOpG0ThDwdUjeuRogo8CYsIbA0KZ65rbWSCIZXD1KVn3saHclgLmWGlrmiaJv3acFjQG3uFWKsg7HXiIBOcLB93aJdF5K1_j6YAFY3-HsxW2Nijc8FiHmDkFXJvLynvhabvo8cc4i5SqgtvaZGr3dda0pwrNN4sfcekLmv3vfEC3RWAc0UCtGqei5xJpTPgTm1pj6zXSOvKDkdFr2CzxaimJMParPb1AXpi2H9jJIYFS5WdyuIl4Nj2cEhV_hs5CE_IIsdZg1L29kN-FL1xC_mi88btrWDpgDlt7defPcnY-YqJ4rLb_I7ev2LgRqo6ikoWmDRAWaSru0qkb2smbuSymgVD0w_MInWknu_y7O-Q8_x_IvcvHi0]--></g></svg>