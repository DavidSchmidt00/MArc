<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="477px" preserveAspectRatio="none" style="width:978px;height:477px;background:#FFFFFF;" version="1.1" viewBox="0 0 978 477" width="978px" zoomAndPan="magnify"><defs/><g><g><title>Customer</title><rect fill="#000000" fill-opacity="0.00000" height="312.6875" width="8" x="38.002" y="82.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="42" x2="42" y1="82.2969" y2="394.9844"/></g><g><title>API Gateway</title><rect fill="#000000" fill-opacity="0.00000" height="312.6875" width="8" x="139.9492" y="82.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="143.7275" x2="143.7275" y1="82.2969" y2="394.9844"/></g><g><title>Auth . Identity Service</title><rect fill="#000000" fill-opacity="0.00000" height="312.6875" width="8" x="289.4092" y="82.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="293.1709" x2="293.1709" y1="82.2969" y2="394.9844"/></g><g><title>Order Service</title><rect fill="#000000" fill-opacity="0.00000" height="312.6875" width="8" x="442.7588" y="82.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="446.6475" x2="446.6475" y1="82.2969" y2="394.9844"/></g><g><title>Payment Service</title><rect fill="#000000" fill-opacity="0.00000" height="312.6875" width="8" x="585.7568" y="82.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="589.7012" x2="589.7012" y1="82.2969" y2="394.9844"/></g><g><title>Kafka.EventBus</title><rect fill="#000000" fill-opacity="0.00000" height="312.6875" width="8" x="723.7974" y="82.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="726.8125" x2="726.8125" y1="82.2969" y2="394.9844"/></g><g><title>Notification Service</title><rect fill="#000000" fill-opacity="0.00000" height="312.6875" width="8" x="893.7017" y="82.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="897.4414" x2="897.4414" y1="82.2969" y2="394.9844"/></g><g class="participant participant-head" data-participant="Customer"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68.0039" x="5" y="78.9951">Customer</text><ellipse cx="42.002" cy="21.5" fill="#E2E2F0" rx="16" ry="16" style="stroke:#181818;stroke-width:0.5;"/><path d="M42.002,41.5 C46.002,41.5 49.002,41.5 53.002,37.5 C61.002,37.5 69.002,45.5 69.002,53.5 L69.002,57.5 C69.002,61.5 65.002,65.5 61.002,65.5 L23.002,65.5 C19.002,65.5 15.002,61.5 15.002,57.5 L15.002,53.5 C15.002,45.5 23.002,37.5 31.002,37.5 C35.002,41.5 38.002,41.5 42.002,41.5" fill="#E2E2F0" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="Customer"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68.0039" x="5" y="406.9795">Customer</text><ellipse cx="42.002" cy="426.7813" fill="#E2E2F0" rx="16" ry="16" style="stroke:#181818;stroke-width:0.5;"/><path d="M42.002,446.7813 C46.002,446.7813 49.002,446.7813 53.002,442.7813 C61.002,442.7813 69.002,450.7813 69.002,458.7813 L69.002,462.7813 C69.002,466.7813 65.002,470.7813 61.002,470.7813 L23.002,470.7813 C19.002,470.7813 15.002,466.7813 15.002,462.7813 L15.002,458.7813 C15.002,450.7813 23.002,442.7813 31.002,442.7813 C35.002,446.7813 38.002,446.7813 42.002,446.7813" fill="#E2E2F0" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-participant="Gateway"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="102.4434" x="92.7275" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88.4434" x="99.7275" y="70.9951">API Gateway</text></g><g class="participant participant-tail" data-participant="Gateway"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="102.4434" x="92.7275" y="393.9844"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88.4434" x="99.7275" y="413.9795">API Gateway</text></g><g class="participant participant-head" data-participant="Auth"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="176.4766" x="205.1709" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="162.4766" x="212.1709" y="70.9951">Auth &amp; Identity Service</text></g><g class="participant participant-tail" data-participant="Auth"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="176.4766" x="205.1709" y="393.9844"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="162.4766" x="212.1709" y="413.9795">Auth &amp; Identity Service</text></g><g class="participant participant-head" data-participant="OrderS"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="110.2227" x="391.6475" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96.2227" x="398.6475" y="70.9951">Order Service</text></g><g class="participant participant-tail" data-participant="OrderS"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="110.2227" x="391.6475" y="393.9844"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96.2227" x="398.6475" y="413.9795">Order Service</text></g><g class="participant participant-head" data-participant="Payment"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="132.1113" x="523.7012" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118.1113" x="530.7012" y="70.9951">Payment Service</text></g><g class="participant participant-tail" data-participant="Payment"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="132.1113" x="523.7012" y="393.9844"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118.1113" x="530.7012" y="413.9795">Payment Service</text></g><g class="participant participant-head" data-participant="EventBus"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="123.9697" x="665.8125" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109.9697" x="672.8125" y="70.9951">Kafka/EventBus</text></g><g class="participant participant-tail" data-participant="EventBus"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="123.9697" x="665.8125" y="393.9844"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109.9697" x="672.8125" y="413.9795">Kafka/EventBus</text></g><g class="participant participant-head" data-participant="Notify"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="150.5205" x="822.4414" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="136.5205" x="829.4414" y="70.9951">Notification Service</text></g><g class="participant participant-tail" data-participant="Notify"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="150.5205" x="822.4414" y="393.9844"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="136.5205" x="829.4414" y="413.9795">Notification Service</text></g><g class="message" data-participant-1="Customer" data-participant-2="Gateway"><polygon fill="#666666" points="131.9492,108.2656,141.9492,112.2656,131.9492,116.2656,135.9492,112.2656" style="stroke:#666666;stroke-width:1;"/><line style="stroke:#666666;stroke-width:1;" x1="42.002" x2="137.9492" y1="112.2656" y2="112.2656"/><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="31.6289" x="54.002" y="107.4355">POST</text><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="3.8145" x="85.6309" y="107.4355">&#160;</text><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="42.5039" x="89.4453" y="107.4355">/orders</text></g><g class="message" data-participant-1="Gateway" data-participant-2="Auth"><polygon fill="#666666" points="281.4092,136.2344,291.4092,140.2344,281.4092,144.2344,285.4092,140.2344" style="stroke:#666666;stroke-width:1;"/><line style="stroke:#666666;stroke-width:1;" x1="143.9492" x2="287.4092" y1="140.2344" y2="140.2344"/><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="49.2891" x="180.7603" y="135.4043">Validate</text><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="3.8145" x="230.0493" y="135.4043">&#160;</text><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="22.7344" x="233.8638" y="135.4043">JWT</text></g><g class="message" data-participant-1="Auth" data-participant-2="Gateway"><polygon fill="#666666" points="154.9492,164.2031,144.9492,168.2031,154.9492,172.2031,150.9492,168.2031" style="stroke:#666666;stroke-width:1;"/><line style="stroke:#666666;stroke-width:1;stroke-dasharray:2,2;" x1="148.9492" x2="292.4092" y1="168.2031" y2="168.2031"/><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="22.7344" x="191.0347" y="163.373">JWT</text><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="3.8145" x="213.769" y="163.373">&#160;</text><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="28.7402" x="217.5835" y="163.373">valid</text></g><g class="message" data-participant-1="Gateway" data-participant-2="OrderS"><polygon fill="#666666" points="434.7588,192.1719,444.7588,196.1719,434.7588,200.1719,438.7588,196.1719" style="stroke:#666666;stroke-width:1;"/><line style="stroke:#666666;stroke-width:1;" x1="143.9492" x2="440.7588" y1="196.1719" y2="196.1719"/><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="82.0313" x="254.3384" y="191.3418">createOrder()</text></g><g class="message" data-participant-1="OrderS" data-participant-2="Payment"><polygon fill="#666666" points="577.7568,220.1406,587.7568,224.1406,577.7568,228.1406,581.7568,224.1406" style="stroke:#666666;stroke-width:1;"/><line style="stroke:#666666;stroke-width:1;" x1="446.7588" x2="583.7568" y1="224.1406" y2="224.1406"/><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="118.998" x="458.7588" y="219.3105">authorizePayment()</text></g><g class="message" data-participant-1="Payment" data-participant-2="OrderS"><polygon fill="#666666" points="457.7588,248.1094,447.7588,252.1094,457.7588,256.1094,453.7588,252.1094" style="stroke:#666666;stroke-width:1;"/><line style="stroke:#666666;stroke-width:1;stroke-dasharray:2,2;" x1="451.7588" x2="588.7568" y1="252.1094" y2="252.1094"/><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="115.9629" x="460.2764" y="247.2793">paymentConfirmed</text></g><g class="message" data-participant-1="OrderS" data-participant-2="OrderS"><line style="stroke:#666666;stroke-width:1;" x1="446.7588" x2="488.7588" y1="280.0781" y2="280.0781"/><line style="stroke:#666666;stroke-width:1;" x1="488.7588" x2="488.7588" y1="280.0781" y2="293.0781"/><line style="stroke:#666666;stroke-width:1;" x1="447.7588" x2="488.7588" y1="293.0781" y2="293.0781"/><polygon fill="#666666" points="457.7588,289.0781,447.7588,293.0781,457.7588,297.0781,453.7588,293.0781" style="stroke:#666666;stroke-width:1;"/><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="82.0488" x="453.7588" y="275.248">persist(order)</text></g><g class="message" data-participant-1="OrderS" data-participant-2="EventBus"><polygon fill="#666666" points="715.7974,317.0469,725.7974,321.0469,715.7974,325.0469,719.7974,321.0469" style="stroke:#666666;stroke-width:1;"/><line style="stroke:#666666;stroke-width:1;" x1="446.7588" x2="721.7974" y1="321.0469" y2="321.0469"/><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="134.7949" x="519.8806" y="316.2168">publish(OrderCreated)</text></g><g class="message" data-participant-1="EventBus" data-participant-2="Notify"><polygon fill="#666666" points="885.7017,345.0156,895.7017,349.0156,885.7017,353.0156,889.7017,349.0156" style="stroke:#666666;stroke-width:1;"/><line style="stroke:#666666;stroke-width:1;" x1="727.7974" x2="891.7017" y1="349.0156" y2="349.0156"/><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="145.9043" x="739.7974" y="344.1855">consume(OrderCreated)</text></g><g class="message" data-participant-1="Notify" data-participant-2="Customer"><polygon fill="#666666" points="53.002,372.9844,43.002,376.9844,53.002,380.9844,49.002,376.9844" style="stroke:#666666;stroke-width:1;"/><line style="stroke:#666666;stroke-width:1;" x1="47.002" x2="896.7017" y1="376.9844" y2="376.9844"/><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="68.0742" x="407.6897" y="372.1543">push(Order</text><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="3.8145" x="475.7639" y="372.1543">&#160;</text><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="52.4355" x="479.5784" y="372.1543">Created)</text></g><!--SRC=[NP11IyGm48Nl-HNZ7cJtK7hPKv45hIAhu1Qww55YahA3RLAIj59_lKdQIBEtvhrlNcVU3KhM3bp0NRdFo_tde-XRDNL2sWEXp2eDvM2iweGcFTKM6VPKMjZSLqTufbRyq6a3rCJlAsYm5xY58tTnQ2UeXHwHYJ3WlPG-QIvqmWIbJgcAXkqIRj5Iy9KstpH_6ftnC9Z0nKSAlYcB3J9gKSaaDXWJ8R41o0xnpWAgKts6NFaD3LbK3_Yx2dYdBN8dmil7cOGQilMmKs7qo7folhO0feKJmskx8xFg_UNA0gZBKnf_nQ8uAhQIhNBwMIkLR51tWg-Y_X6tF1gx3MUi_nMRSiZmrQAvR8DNXjNuZaJVitDDRcybpT29At9sFHThz9an42Bt1m00]--></g></svg>